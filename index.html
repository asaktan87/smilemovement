<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Smile Movement — Countdown</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Smile Movement Countdown — Straumann Group employees unite to walk, run, and cycle. Every km is matched with donations to the Straumann Group Foundation." />
  <style>
    /* ---- Brand palette ---- */
    :root{
      --brand-blue: #195AFA;     /* Blue */
      --brand-gray: #36393A;     /* Straumann Gray */
      --brand-sand: #B98C3C;     /* Sand */

      --accent: var(--brand-blue);
      --text: #ffffff;
      --muted: rgba(255,255,255,.9);
      --glass: rgba(54,57,58,.50);        /* gray with transparency */
      --glass-brd: rgba(255,255,255,.35);
      --bg-fallback: #0c1222;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:var(--bg-fallback);
      display:grid; place-items:center;
      padding:20px;
    }

    /* Background image via ::after so we can overlay easily */
    .bg{position:fixed; inset:0; z-index:-2;}
    .bg::after{
      content:""; position:absolute; inset:0;
      background-image: url('bg1.jpg');  /* <-- your background */
      background-size: cover; background-position: center; background-repeat: no-repeat;
      opacity:.28; filter:saturate(1.05) contrast(1.05);
    }

    .wrap{width:min(1100px,92vw)}

    .header{
      display:flex; align-items:center; justify-content:center; gap:14px;
      margin: 8px 0 16px;
    }
    .logo{
      height:56px; object-fit:contain; display:block;
      background: rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.22);
      border-radius:12px; padding:6px 10px;
      backdrop-filter: blur(6px);
    }
    .title{
      margin:0; text-align:center;
      font-weight:900; letter-spacing:.2px;
      font-size:clamp(22px,3.6vw,34px);
      text-shadow: 0 2px 14px rgba(0,0,0,.45);
    }
    .subtitle{
      text-align:center; margin:6px 0 0; color:var(--muted);
      font-size:clamp(12px,2.6vw,14px);
    }

    .card{
      background:var(--glass);
      border:1px solid var(--glass-brd);
      border-radius:20px;
      backdrop-filter: blur(14px) saturate(1.15);
      -webkit-backdrop-filter: blur(14px) saturate(1.15);
      padding:clamp(18px,3vw,26px);
      box-shadow:0 10px 28px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.08);
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(4, minmax(120px,1fr));
      gap:clamp(10px,2.6vw,18px);
    }
    @media (max-width:640px){ .grid{ grid-template-columns: repeat(2, 1fr); } }

    .unit{
      text-align:center;
      background:
        linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
      border:1px solid rgba(255,255,255,.28);
      border-radius:16px; padding:clamp(12px,2vw,16px);
      box-shadow: inset 0 0 0 2px rgba(25,90,250,.08);
    }
    .unit:nth-child(1){ box-shadow: inset 0 0 0 2px rgba(25,90,250,.12); } /* subtle blue ring */
    .num{
      font-variant-numeric: tabular-nums; font-weight:900;
      font-size:clamp(34px,6.5vw,58px); line-height:1; display:block;
      text-shadow:0 2px 18px rgba(0,0,0,.55);
    }
    .label{
      margin-top:6px; letter-spacing:.18em; text-transform:uppercase;
      font-size:12px; color:var(--muted);
    }

    .info{
      margin-top:14px;
      font-size:13px; color:var(--muted);
      text-align:center;
    }

    .emph{ color: var(--brand-sand); font-weight: 800; }  /* for subtle brand highlight */
  </style>
</head>
<body>
  <!-- Background holder -->
  <div class="bg"></div>

  <div class="wrap" id="timer"
       data-title="Smile Movement"
       data-subtitle="Walk • Run • Cycle — Every km becomes a donation to the Straumann Group Foundation"
       data-deadline="2025-09-30 23:59:59"   <!-- local time; ends just before Oct 1 -->
       data-logo="logo1.png">                <!-- your logo -->
  </div>

  <script>
  (function(){
    const root = document.getElementById('timer');

    // Read config
    const data = {
      title: root.getAttribute('data-title') || 'Smile Movement',
      subtitle: root.getAttribute('data-subtitle') || '',
      deadline: root.getAttribute('data-deadline') || '2025-09-30 23:59:59',
      logo: root.getAttribute('data-logo') || ''
    };

    // Build header
    const header = document.createElement('div'); header.className = 'header';
    if (data.logo){
      const img = document.createElement('img');
      img.className = 'logo';
      img.src = encodeURI(data.logo);
      img.alt = 'Smile Movement';
      header.appendChild(img);
    }
    const title = document.createElement('h1'); title.className = 'title'; title.textContent = data.title;
    header.appendChild(title);
    const subtitle = document.createElement('div'); subtitle.className = 'subtitle'; subtitle.textContent = data.subtitle;
    header.appendChild(subtitle);

    // Card + grid
    const card = document.createElement('div'); card.className = 'card';
    const grid = document.createElement('div'); grid.className = 'grid'; card.appendChild(grid);
    const units = ['Days','Hours','Minutes','Seconds'];
    const nums = units.map(u=>{
      const unit = document.createElement('div'); unit.className='unit';
      const num = document.createElement('span'); num.className='num'; num.textContent='00';
      const lab = document.createElement('div'); lab.className='label'; lab.textContent=u;
      unit.appendChild(num); unit.appendChild(lab); grid.appendChild(unit);
      return num;
    });

    const info = document.createElement('div'); info.className='info';
    info.innerHTML = 'The <span class="emph">Smile Movement</span> unites Straumann Group employees through walking, running, and cycling challenges. Every kilometer is tracked and matched with donations to the Straumann Group Foundation—helping bring healthier smiles and better lives worldwide.';
    card.appendChild(info);

    // Mount
    root.innerHTML = '';
    root.appendChild(header);
    root.appendChild(card);

    // Parse local "YYYY-MM-DD" or "YYYY-MM-DD HH:MM:SS"
    function parseLocal(str){
      if (!str) return null;
      const m = String(str).trim()
        .match(/^(\d{4})-(\d{1,2})-(\d{1,2})(?:[ T](\d{1,2})(?::(\d{2})(?::(\d{2}))?)?)?$/);
      if (!m) return null;
      const [, y, mo, d, hh="0", mm="0", ss="0"] = m;
      return new Date(+y, +mo-1, +d, +hh, +mm, +ss, 0);
    }
    const deadline = parseLocal(data.deadline);

    if (!deadline || isNaN(deadline)) {
      const warn = document.createElement('div'); warn.className='info';
      warn.textContent = '⚠️ Invalid deadline. Please keep format YYYY-MM-DD HH:MM:SS.';
      card.appendChild(warn);
      return;
    }

    // Countdown
    const pad = n => String(n).padStart(2,'0');
    function render(diff){
      const d = Math.max(0, Math.floor(diff/86400000));
      const h = Math.max(0, Math.floor((diff%86400000)/3600000));
      const m = Math.max(0, Math.floor((diff%3600000)/60000));
      const s = Math.max(0, Math.floor((diff%60000)/1000));
      [String(d), pad(h), pad(m), pad(s)].forEach((v,i)=>{ nums[i].textContent = v; });
    }

    function tick(){
      const diff = deadline.getTime() - Date.now();
      if (diff <= 0) {
        render(0);
        info.textContent = '🎉 The Smile Movement countdown has finished. Thank you for every step and every kilometer!';
        return;
      }
      render(diff);
      requestAnimationFrame(tick);
    }
    tick();
  })();
  </script>
</body>
</html>
